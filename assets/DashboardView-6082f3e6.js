import{S as n}from"./sweetalert2.all-0b553f6e.js";import{_ as f,r as l,o as u,d as _,e,h as s,k as a,w as m,H as k,f as v,F as g,i as r}from"./index-0c62bcd8.js";const{VITE_API:b}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"project-sourire-api",BASE_URL:"/project-sourire/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{checkSuccess:!1}},methods:{checkLogin(){this.$http.post(`${b}/api/user/check`).then(()=>{this.checkSuccess=!0}).catch(t=>{n.fire({icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500}),this.$router.push("/login")})},logout(){document.cookie="sourire-token=;expires=;",n.fire({icon:"success",title:"登出成功",showConfirmButton:!1,timer:1500}),this.$router.push("/")}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)sourire-token\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,t?this.checkLogin():(n.fire({icon:"error",title:"您尚未登入",showConfirmButton:!1,timer:1500}),this.$router.push("/login"))}},w={class:"navbar navbar-expand-lg navbar-dark bg-gray-dark"},C={class:"container-fluid"},$=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),x={class:"collapse navbar-collapse",id:"navbarSupportedContent"},S={class:"navbar-nav"};function B(t,c,E,A,d,i){const o=l("RouterLink"),p=l("RouterView");return u(),_(g,null,[e("nav",w,[e("div",C,[s(o,{class:"navbar-brand",to:"/admin/products"},{default:a(()=>[r("後台")]),_:1}),$,e("div",x,[e("div",S,[s(o,{class:"nav-link",to:"/admin/products"},{default:a(()=>[r("產品列表")]),_:1}),s(o,{class:"nav-link",to:"/admin/orders"},{default:a(()=>[r("訂單列表")]),_:1}),s(o,{class:"nav-link",to:"/admin/coupons"},{default:a(()=>[r("優惠券")]),_:1}),s(o,{class:"nav-link",to:"/"},{default:a(()=>[r("回前台")]),_:1}),e("a",{href:"#",class:"nav-link",onClick:c[0]||(c[0]=m((...h)=>i.logout&&i.logout(...h),["prevent"]))},"登出")])])])]),d.checkSuccess?(u(),k(p,{key:0})):v("",!0)],64)}const T=f(V,[["render",B]]);export{T as default};
