import{S as l}from"./sweetalert2.all-0b553f6e.js";import{_ as u,r as p,o as _,d as h,h as f,k as g,e as s,w,j as d,v as c,F as v}from"./index-0c62bcd8.js";import{_ as x}from"./logo-lg-92d4c36a.js";const{VITE_API:b}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"project-sourire-api",BASE_URL:"/project-sourire/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{isLoading:!1,user:{username:"",password:""}}},methods:{login(){this.isLoading=!0,this.$http.post(`${b}/admin/signin`,this.user).then(i=>{const{token:e,expired:r,message:n}=i.data;document.cookie=`sourire-token=${e}; expires=${r}`,this.$http.defaults.headers.common.Authorization=e,l.fire({icon:"success",title:n,showConfirmButton:!1,timer:1500}),this.$router.push("/admin/products"),this.isLoading=!1}).catch(i=>{l.fire({icon:"error",title:i.response.data.message,showConfirmButton:!1,timer:1500}),this.isLoading=!1})}}},k=s("img",{class:"img-fluid loading-img animate__animated animate__shakeY",src:x,alt:"logo"},null,-1),L={class:"bg-background py-5"},E={class:"container"},y={class:"row justify-content-center"},P=s("h1",{class:"h3 mb-3 font-weight-normal text-center"}," 請先登入 ",-1),A={class:"col-8"},B={class:"form-floating mb-3"},I=s("label",{for:"username"},"Email address",-1),T={class:"form-floating"},j=s("label",{for:"password"},"Password",-1),C=s("button",{class:"btn btn-gray-dark py-3 px-5 text-white w-100 mt-3",type:"submit"}," 登入 ",-1);function D(i,e,r,n,o,a){const m=p("VueLoading");return _(),h(v,null,[f(m,{active:o.isLoading},{default:g(()=>[k]),_:1},8,["active"]),s("main",null,[s("section",L,[s("div",E,[s("div",y,[P,s("div",A,[s("form",{id:"form",onSubmit:e[2]||(e[2]=w((...t)=>a.login&&a.login(...t),["prevent"]))},[s("div",B,[d(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=t=>o.user.username=t)},null,512),[[c,o.user.username]]),I]),s("div",T,[d(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>o.user.password=t)},null,512),[[c,o.user.password]]),j]),C],32)])])])])])],64)}const $=u(V,[["render",D]]);export{$ as default};
