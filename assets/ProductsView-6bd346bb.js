import{T as k}from"./toast-77d67ba4.js";import{_ as w,m as x,b as P,r as m,o as i,d as a,h as p,k as f,e as t,I as g,w as l,f as d,i as c,F as h,p as C,J as I,t as _}from"./index-0c62bcd8.js";import{c as u}from"./cart-fee2c670.js";import{P as T}from"./PaginationComponent-248fa8bd.js";import{_ as V}from"./logo-lg-92d4c36a.js";import"./sweetalert2.all-0b553f6e.js";const{VITE_API:L,VITE_APIPATH:$}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"project-sourire-api",BASE_URL:"/project-sourire/",MODE:"production",DEV:!1,PROD:!0},j={data(){return{products:[],product:{},isLoading:!1,pagination:{},pageNum:1,category:""}},methods:{getProducts(n=1){this.isLoading=!0,this.pageNum=n,this.$http.get(`${L}/api/${$}/products?page=${n}&category=${this.category}`).then(e=>{this.products=e.data.products,this.pagination=e.data.pagination,this.isLoading=!1}).catch(e=>{k(e.response.data.message,"error"),this.isLoading=!1})},filterProducts(n){this.category!==n&&(this.category=n,this.getProducts())},...x(u,["addCart"])},components:{PaginationComponent:T},mounted(){this.getProducts()},computed:{...P(u,["loadingItem"])}},A=t("img",{class:"img-fluid loading-img animate__animated animate__shakeY",src:V,alt:"logo"},null,-1),E={class:"bg-background py-5"},N={class:"container"},F=t("h2",{class:"fw-bold text-center mb-4 mb-lg-5"},"購買花禮",-1),S={class:"row gy-4"},B={class:"col-12 col-md-3"},D={class:"list-group"},R={class:"d-flex w-100 justify-content-between"},z={class:"mb-1"},H={key:0,class:"fa-solid fa-seedling icon text-gray-dark"},M={class:"d-flex w-100 justify-content-between"},O={class:"mb-1"},U={key:0,class:"fa-solid fa-seedling icon text-gray-dark"},J={class:"d-flex w-100 justify-content-between"},Y={class:"mb-1"},q={key:0,class:"fa-solid fa-seedling icon text-gray-dark"},G={class:"d-flex w-100 justify-content-between"},K={class:"mb-1"},Q={key:0,class:"fa-solid fa-seedling icon text-gray-dark"},W={class:"d-flex w-100 justify-content-between"},X={class:"mb-1"},Z={key:0,class:"fa-solid fa-seedling icon text-gray-dark"},tt={class:"d-flex w-100 justify-content-between"},st={class:"mb-1"},et={key:0,class:"fa-solid fa-seedling icon text-gray-dark"},ot={class:"col-12 col-md-9"},it={class:"row gy-4 mb-4"},at={class:"card products-card-hover"},nt=t("p",{class:"fs-6 py-2 px-7 mb-0 bg-white position-absolute w-100 text-center bottom-0 products-more"},"詳細資訊",-1),ct=[nt],rt={class:"card-body p-3 p-lg-4"},lt={class:"card-title fs-4 fw-bold mb-3 text-gray-dark"},dt=t("br",null,null,-1),gt={class:"d-flex gap-2 mb-4"},_t={key:0,class:"mb-0"},mt=t("span",{class:"badge bg-light text-gray-dark fw-normal fs-6"},"期間限定",-1),pt=[mt],ft={key:1,class:"mb-0"},ht=t("span",{class:"badge bg-light text-gray-dark fw-normal fs-6"},"送禮首選",-1),ut=[ht],bt={class:"mb-0"},yt={class:"badge bg-light text-gray-dark fw-normal fs-6"},vt={class:"d-flex justify-content-between align-items-center"},kt={key:0,class:"card-text text-primary-dark fw-bold fs-5 mb-0"},wt={key:1,class:"card-text text-primary-dark fw-bold fs-5 mb-0"},xt={class:"text-gray-dark fw-normal small me-2"},Pt=["onClick","disabled"],Ct={key:0,class:"fas fa-spinner fa-pulse"},It={key:1,class:"fa-solid fa-cart-plus"};function Tt(n,e,Vt,Lt,o,r){const b=m("VueLoading"),y=m("RouterLink"),v=m("PaginationComponent");return i(),a(h,null,[p(b,{active:o.isLoading},{default:f(()=>[A]),_:1},8,["active"]),t("main",null,[t("section",E,[t("div",N,[F,t("div",S,[t("div",B,[t("div",D,[t("a",{href:"#",class:g(`list-group-item list-group-item-action btn btn-basic py-2 ${o.category===""?"active":""}`),onClick:e[0]||(e[0]=l(s=>r.filterProducts(""),["prevent"]))},[t("div",R,[t("h5",z,[o.category===""?(i(),a("i",H)):d("",!0),c("全部商品")])])],2),t("a",{href:"#",class:g(`list-group-item list-group-item-action btn btn-basic py-2 ${o.category==="花束"?"active":""}`),onClick:e[1]||(e[1]=l(s=>r.filterProducts("花束"),["prevent"]))},[t("div",M,[t("h5",O,[o.category==="花束"?(i(),a("i",U)):d("",!0),c("經典花束")])])],2),t("a",{href:"#",class:g(`list-group-item list-group-item-action btn btn-basic py-2 ${o.category==="盆花"?"active":""}`),onClick:e[2]||(e[2]=l(s=>r.filterProducts("盆花"),["prevent"]))},[t("div",J,[t("h5",Y,[o.category==="盆花"?(i(),a("i",q)):d("",!0),c("乾燥盆花")])])],2),t("a",{href:"#",class:g(`list-group-item list-group-item-action btn btn-basic py-2 ${o.category==="捧花"?"active":""}`),onClick:e[3]||(e[3]=l(s=>r.filterProducts("捧花"),["prevent"]))},[t("div",G,[t("h5",K,[o.category==="捧花"?(i(),a("i",Q)):d("",!0),c("新娘捧花")])])],2),t("a",{href:"#",class:g(`list-group-item list-group-item-action btn btn-basic py-2 ${o.category==="花圈"?"active":""}`),onClick:e[4]||(e[4]=l(s=>r.filterProducts("花圈"),["prevent"]))},[t("div",W,[t("h5",X,[o.category==="花圈"?(i(),a("i",Z)):d("",!0),c("花圈")])])],2),t("a",{href:"#",class:g(`list-group-item list-group-item-action btn btn-basic py-2 ${o.category==="材料"?"active":""}`),onClick:e[5]||(e[5]=l(s=>r.filterProducts("材料"),["prevent"]))},[t("div",tt,[t("h5",st,[o.category==="材料"?(i(),a("i",et)):d("",!0),c("手作材料包")])])],2)])]),t("div",ot,[t("div",it,[(i(!0),a(h,null,C(o.products,s=>(i(),a("div",{class:"col-12 col-md-6 col-lg-4",key:s.id},[t("div",at,[p(y,{to:`/product/${s.id}`},{default:f(()=>[t("div",{class:"img-fluid card-img-top bg-img products-img position-relative",style:I(`background-image: url(${s.imageUrl});`)},ct,4)]),_:2},1032,["to"]),t("div",rt,[t("h3",lt,[c(_(s.set),1),dt,c(_(s.title),1)]),t("div",gt,[s.is_limited_time?(i(),a("p",_t,pt)):s.category==="花束"?(i(),a("p",ft,ut)):d("",!0),t("p",bt,[t("span",yt,_(s.category),1)])]),t("div",vt,[s.price===s.origin_price?(i(),a("p",kt,_(`NT$ ${n.$priceFormat.price(s.origin_price)}`),1)):(i(),a("p",wt,[t("del",xt,_(`NT$ ${n.$priceFormat.price(s.origin_price)}`),1),c(_(`NT$ ${n.$priceFormat.price(s.price)}`),1)])),t("button",{type:"button",class:"btn btn-outline-gray-dark border-gray-dark fw-bold py-2",onClick:l($t=>n.addCart(s.id),["prevent"]),disabled:s.id===n.loadingItem},[s.id===n.loadingItem?(i(),a("i",Ct)):(i(),a("i",It))],8,Pt)])])])]))),128))]),p(v,{pagination:o.pagination,onChangePage:r.getProducts},null,8,["pagination","onChangePage"])])])])])])],64)}const Bt=w(j,[["render",Tt]]);export{Bt as default};
